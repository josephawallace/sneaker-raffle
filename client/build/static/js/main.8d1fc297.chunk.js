(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{111:function(e){e.exports=JSON.parse('{"_format":"hh-sol-artifact-1","contractName":"Raffle","sourceName":"contracts/Raffle.sol","abi":[{"inputs":[{"internalType":"string","name":"_name","type":"string"},{"internalType":"uint256","name":"_ticketPrice","type":"uint256"},{"internalType":"uint256","name":"_ticketLimit","type":"uint256"}],"stateMutability":"nonpayable","type":"constructor"},{"anonymous":false,"inputs":[{"components":[{"internalType":"bytes32","name":"id","type":"bytes32"},{"internalType":"address","name":"holder","type":"address"},{"internalType":"uint256","name":"size","type":"uint256"}],"indexed":true,"internalType":"struct Raffle.Ticket","name":"winningTicket","type":"tuple"}],"name":"Closed","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"holder","type":"address"}],"name":"NewTicket","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"string","name":"message","type":"string"}],"name":"Updated","type":"event"},{"inputs":[{"internalType":"uint256","name":"_size","type":"uint256"}],"name":"addTicket","outputs":[],"stateMutability":"payable","type":"function"},{"inputs":[],"name":"getBiggest","outputs":[{"internalType":"bytes32","name":"","type":"bytes32"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"_index","type":"uint256"}],"name":"getTicket","outputs":[{"components":[{"internalType":"bytes32","name":"id","type":"bytes32"},{"internalType":"address","name":"holder","type":"address"},{"internalType":"uint256","name":"size","type":"uint256"}],"internalType":"struct Raffle.Ticket","name":"","type":"tuple"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getTicketCount","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getTickets","outputs":[{"components":[{"internalType":"bytes32","name":"id","type":"bytes32"},{"internalType":"address","name":"holder","type":"address"},{"internalType":"uint256","name":"size","type":"uint256"}],"internalType":"struct Raffle.Ticket[]","name":"","type":"tuple[]"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getWinningTicket","outputs":[{"components":[{"internalType":"bytes32","name":"id","type":"bytes32"},{"internalType":"address","name":"holder","type":"address"},{"internalType":"uint256","name":"size","type":"uint256"}],"internalType":"struct Raffle.Ticket","name":"","type":"tuple"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"isClosed","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"name","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"owner","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"reset","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"string","name":"_name","type":"string"}],"name":"setName","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"_owner","type":"address"}],"name":"setOwner","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"_ticketLimit","type":"uint256"}],"name":"setTicketLimit","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"_ticketPrice","type":"uint256"}],"name":"setTicketPrice","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"ticketLimit","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"ticketPrice","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"string","name":"_name","type":"string"},{"internalType":"bool","name":"_isClosed","type":"bool"},{"internalType":"uint256","name":"_ticketPrice","type":"uint256"},{"internalType":"uint256","name":"_ticketLimit","type":"uint256"}],"name":"update","outputs":[],"stateMutability":"nonpayable","type":"function"}],"bytecode":"0x60806040523480156200001157600080fd5b5060405162000f8d38038062000f8d83398101604081905262000034916200011c565b82516200004990600490602086019062000076565b50600191909155600255506000805460ff19169055600380546001600160a01b031916331790556200025f565b82805462000084906200020c565b90600052602060002090601f016020900481019282620000a85760008555620000f3565b82601f10620000c357805160ff1916838001178555620000f3565b82800160010185558215620000f3579182015b82811115620000f3578251825591602001919060010190620000d6565b506200010192915062000105565b5090565b5b8082111562000101576000815560010162000106565b6000806000606084860312156200013257600080fd5b83516001600160401b03808211156200014a57600080fd5b818601915086601f8301126200015f57600080fd5b81518181111562000174576200017462000249565b604051601f8201601f19908116603f011681019083821181831017156200019f576200019f62000249565b81604052828152602093508984848701011115620001bc57600080fd5b600091505b82821015620001e05784820184015181830185015290830190620001c1565b82821115620001f25760008484830101525b928801516040909801519299979850919695505050505050565b600181811c908216806200022157607f821691505b602082108114156200024357634e487b7160e01b600052602260045260246000fd5b50919050565b634e487b7160e01b600052604160045260246000fd5b610d1e806200026f6000396000f3fe6080604052600436106100fe5760003560e01c80637dc379fa11610095578063c2b6b58c11610064578063c2b6b58c146102ac578063c47f0027146102d6578063d20bf816146102f6578063d826f88f1461034d578063f26730191461036257600080fd5b80637dc379fa146102015780638da5cb5b1461024c578063a583b03414610284578063b42913191461029957600080fd5b806321c63a47116100d157806321c63a47146101945780633d3751ae146101a95780634ed02622146101c95780635e321dfc146101eb57600080fd5b806306fdde03146101035780631209b1f61461012e57806313af4035146101525780631598165014610174575b600080fd5b34801561010f57600080fd5b50610118610382565b6040516101259190610c1e565b60405180910390f35b34801561013a57600080fd5b5061014460015481565b604051908152602001610125565b34801561015e57600080fd5b5061017261016d366004610aa7565b610410565b005b34801561018057600080fd5b5061017261018f366004610b78565b610449565b3480156101a057600080fd5b50600554610144565b3480156101b557600080fd5b506101726101c4366004610b78565b610465565b3480156101d557600080fd5b506101de610481565b6040516101259190610bb3565b3480156101f757600080fd5b5061014460025481565b34801561020d57600080fd5b5061022161021c366004610b78565b610503565b60408051825181526020808401516001600160a01b0316908201529181015190820152606001610125565b34801561025857600080fd5b5060035461026c906001600160a01b031681565b6040516001600160a01b039091168152602001610125565b34801561029057600080fd5b5061014461057c565b6101726102a7366004610b78565b61059d565b3480156102b857600080fd5b506000546102c69060ff1681565b6040519015158152602001610125565b3480156102e257600080fd5b506101726102f1366004610ad7565b61075d565b34801561030257600080fd5b50604080516060808201835260008083526020808401829052928401528251908101835260065481526007546001600160a01b03169181019190915260085491810191909152610221565b34801561035957600080fd5b5061017261078b565b34801561036e57600080fd5b5061017261037d366004610b14565b6107ef565b6004805461038f90610c81565b80601f01602080910402602001604051908101604052809291908181526020018280546103bb90610c81565b80156104085780601f106103dd57610100808354040283529160200191610408565b820191906000526020600020905b8154815290600101906020018083116103eb57829003601f168201915b505050505081565b6003546001600160a01b0316331461042757600080fd5b600380546001600160a01b0319166001600160a01b0392909216919091179055565b6003546001600160a01b0316331461046057600080fd5b600155565b6003546001600160a01b0316331461047c57600080fd5b600255565b60606005805480602002602001604051908101604052809291908181526020016000905b828210156104fa5760008481526020908190206040805160608101825260038602909201805483526001808201546001600160a01b0316848601526002909101549183019190915290835290920191016104a5565b50505050905090565b60408051606081018252600080825260208201819052918101919091526005828154811061053357610533610cbc565b60009182526020918290206040805160608101825260039093029091018054835260018101546001600160a01b0316938301939093526002909201549181019190915292915050565b6003546000906001600160a01b0316331461059657600080fd5b5060095490565b60005460ff16156105ad57600080fd5b60015434146105bb57600080fd5b600554604080513360601b6bffffffffffffffffffffffff1916602082015260348082019390935281518082039093018352605481019091526106049082904290607401610b91565b60408051808303601f19018152606083018252805160208083019190912084523390840181815284840187815260058054600181018255600091825287517f036b6384b5eca791c62761152d0c79bb0604c104a5fb6f4eb0703f3154bb3db060039092029182015592517f036b6384b5eca791c62761152d0c79bb0604c104a5fb6f4eb0703f3154bb3db1840180546001600160a01b0319166001600160a01b0390921691909117905590517f036b6384b5eca791c62761152d0c79bb0604c104a5fb6f4eb0703f3154bb3db2909201919091559251919450917fbfed62eb9da96f495053d1025cce9833c1ea7d27761dca02cfea73f628f23a5091a26009548151111561074357805160098190556006556020810151600780546001600160a01b0319166001600160a01b0390921691909117905560408101516008555b60025460055410610758576107586001610889565b505050565b6003546001600160a01b0316331461077457600080fd5b80516107879060049060208401906108f9565b5050565b6003546001600160a01b031633146107a257600080fd5b6107ae6004600061097d565b6000805460ff19168155600181905560028190556006819055600780546001600160a01b031916905560088190556107e8906005906109b7565b6000600955565b6003546001600160a01b0316331461080657600080fd5b61080f8461075d565b61081883610889565b61082182610449565b61082a81610465565b7f221d3d4161ff7c815e25a84cf3c2ec04f54111bee80f0b06d345c834581c9da360405161087b906020808252600f908201526e2930b3333632903ab83230ba32b21760891b604082015260600190565b60405180910390a150505050565b6000805460ff191682151590811790915560ff16156108f6576040805160065481526007546001600160a01b03166020820152600854818301529051908190036060018120907ff155374bd3d5cf63edee6a98dcefddb2e72a6de0457bee440d6cf0c512f6a01b90600090a25b50565b82805461090590610c81565b90600052602060002090601f016020900481019282610927576000855561096d565b82601f1061094057805160ff191683800117855561096d565b8280016001018555821561096d579182015b8281111561096d578251825591602001919060010190610952565b506109799291506109d8565b5090565b50805461098990610c81565b6000825580601f10610999575050565b601f0160209004906000526020600020908101906108f691906109d8565b50805460008255600302906000526020600020908101906108f691906109ed565b5b8082111561097957600081556001016109d9565b5b808211156109795760008082556001820180546001600160a01b031916905560028201556003016109ee565b600082601f830112610a2b57600080fd5b813567ffffffffffffffff80821115610a4657610a46610cd2565b604051601f8301601f19908116603f01168101908282118183101715610a6e57610a6e610cd2565b81604052838152866020858801011115610a8757600080fd5b836020870160208301376000602085830101528094505050505092915050565b600060208284031215610ab957600080fd5b81356001600160a01b0381168114610ad057600080fd5b9392505050565b600060208284031215610ae957600080fd5b813567ffffffffffffffff811115610b0057600080fd5b610b0c84828501610a1a565b949350505050565b60008060008060808587031215610b2a57600080fd5b843567ffffffffffffffff811115610b4157600080fd5b610b4d87828801610a1a565b94505060208501358015158114610b6357600080fd5b93969395505050506040820135916060013590565b600060208284031215610b8a57600080fd5b5035919050565b60008351610ba3818460208801610c51565b9190910191825250602001919050565b6020808252825182820181905260009190848201906040850190845b81811015610c1257610bff838551805182526020808201516001600160a01b031690830152604090810151910152565b9284019260609290920191600101610bcf565b50909695505050505050565b6020815260008251806020840152610c3d816040850160208701610c51565b601f01601f19169190910160400192915050565b60005b83811015610c6c578181015183820152602001610c54565b83811115610c7b576000848401525b50505050565b600181811c90821680610c9557607f821691505b60208210811415610cb657634e487b7160e01b600052602260045260246000fd5b50919050565b634e487b7160e01b600052603260045260246000fd5b634e487b7160e01b600052604160045260246000fdfea2646970667358221220f91fce515720a960ed36d97581945352888f16c7d42cf8f8ded3356059462ad464736f6c63430008070033","deployedBytecode":"0x6080604052600436106100fe5760003560e01c80637dc379fa11610095578063c2b6b58c11610064578063c2b6b58c146102ac578063c47f0027146102d6578063d20bf816146102f6578063d826f88f1461034d578063f26730191461036257600080fd5b80637dc379fa146102015780638da5cb5b1461024c578063a583b03414610284578063b42913191461029957600080fd5b806321c63a47116100d157806321c63a47146101945780633d3751ae146101a95780634ed02622146101c95780635e321dfc146101eb57600080fd5b806306fdde03146101035780631209b1f61461012e57806313af4035146101525780631598165014610174575b600080fd5b34801561010f57600080fd5b50610118610382565b6040516101259190610c1e565b60405180910390f35b34801561013a57600080fd5b5061014460015481565b604051908152602001610125565b34801561015e57600080fd5b5061017261016d366004610aa7565b610410565b005b34801561018057600080fd5b5061017261018f366004610b78565b610449565b3480156101a057600080fd5b50600554610144565b3480156101b557600080fd5b506101726101c4366004610b78565b610465565b3480156101d557600080fd5b506101de610481565b6040516101259190610bb3565b3480156101f757600080fd5b5061014460025481565b34801561020d57600080fd5b5061022161021c366004610b78565b610503565b60408051825181526020808401516001600160a01b0316908201529181015190820152606001610125565b34801561025857600080fd5b5060035461026c906001600160a01b031681565b6040516001600160a01b039091168152602001610125565b34801561029057600080fd5b5061014461057c565b6101726102a7366004610b78565b61059d565b3480156102b857600080fd5b506000546102c69060ff1681565b6040519015158152602001610125565b3480156102e257600080fd5b506101726102f1366004610ad7565b61075d565b34801561030257600080fd5b50604080516060808201835260008083526020808401829052928401528251908101835260065481526007546001600160a01b03169181019190915260085491810191909152610221565b34801561035957600080fd5b5061017261078b565b34801561036e57600080fd5b5061017261037d366004610b14565b6107ef565b6004805461038f90610c81565b80601f01602080910402602001604051908101604052809291908181526020018280546103bb90610c81565b80156104085780601f106103dd57610100808354040283529160200191610408565b820191906000526020600020905b8154815290600101906020018083116103eb57829003601f168201915b505050505081565b6003546001600160a01b0316331461042757600080fd5b600380546001600160a01b0319166001600160a01b0392909216919091179055565b6003546001600160a01b0316331461046057600080fd5b600155565b6003546001600160a01b0316331461047c57600080fd5b600255565b60606005805480602002602001604051908101604052809291908181526020016000905b828210156104fa5760008481526020908190206040805160608101825260038602909201805483526001808201546001600160a01b0316848601526002909101549183019190915290835290920191016104a5565b50505050905090565b60408051606081018252600080825260208201819052918101919091526005828154811061053357610533610cbc565b60009182526020918290206040805160608101825260039093029091018054835260018101546001600160a01b0316938301939093526002909201549181019190915292915050565b6003546000906001600160a01b0316331461059657600080fd5b5060095490565b60005460ff16156105ad57600080fd5b60015434146105bb57600080fd5b600554604080513360601b6bffffffffffffffffffffffff1916602082015260348082019390935281518082039093018352605481019091526106049082904290607401610b91565b60408051808303601f19018152606083018252805160208083019190912084523390840181815284840187815260058054600181018255600091825287517f036b6384b5eca791c62761152d0c79bb0604c104a5fb6f4eb0703f3154bb3db060039092029182015592517f036b6384b5eca791c62761152d0c79bb0604c104a5fb6f4eb0703f3154bb3db1840180546001600160a01b0319166001600160a01b0390921691909117905590517f036b6384b5eca791c62761152d0c79bb0604c104a5fb6f4eb0703f3154bb3db2909201919091559251919450917fbfed62eb9da96f495053d1025cce9833c1ea7d27761dca02cfea73f628f23a5091a26009548151111561074357805160098190556006556020810151600780546001600160a01b0319166001600160a01b0390921691909117905560408101516008555b60025460055410610758576107586001610889565b505050565b6003546001600160a01b0316331461077457600080fd5b80516107879060049060208401906108f9565b5050565b6003546001600160a01b031633146107a257600080fd5b6107ae6004600061097d565b6000805460ff19168155600181905560028190556006819055600780546001600160a01b031916905560088190556107e8906005906109b7565b6000600955565b6003546001600160a01b0316331461080657600080fd5b61080f8461075d565b61081883610889565b61082182610449565b61082a81610465565b7f221d3d4161ff7c815e25a84cf3c2ec04f54111bee80f0b06d345c834581c9da360405161087b906020808252600f908201526e2930b3333632903ab83230ba32b21760891b604082015260600190565b60405180910390a150505050565b6000805460ff191682151590811790915560ff16156108f6576040805160065481526007546001600160a01b03166020820152600854818301529051908190036060018120907ff155374bd3d5cf63edee6a98dcefddb2e72a6de0457bee440d6cf0c512f6a01b90600090a25b50565b82805461090590610c81565b90600052602060002090601f016020900481019282610927576000855561096d565b82601f1061094057805160ff191683800117855561096d565b8280016001018555821561096d579182015b8281111561096d578251825591602001919060010190610952565b506109799291506109d8565b5090565b50805461098990610c81565b6000825580601f10610999575050565b601f0160209004906000526020600020908101906108f691906109d8565b50805460008255600302906000526020600020908101906108f691906109ed565b5b8082111561097957600081556001016109d9565b5b808211156109795760008082556001820180546001600160a01b031916905560028201556003016109ee565b600082601f830112610a2b57600080fd5b813567ffffffffffffffff80821115610a4657610a46610cd2565b604051601f8301601f19908116603f01168101908282118183101715610a6e57610a6e610cd2565b81604052838152866020858801011115610a8757600080fd5b836020870160208301376000602085830101528094505050505092915050565b600060208284031215610ab957600080fd5b81356001600160a01b0381168114610ad057600080fd5b9392505050565b600060208284031215610ae957600080fd5b813567ffffffffffffffff811115610b0057600080fd5b610b0c84828501610a1a565b949350505050565b60008060008060808587031215610b2a57600080fd5b843567ffffffffffffffff811115610b4157600080fd5b610b4d87828801610a1a565b94505060208501358015158114610b6357600080fd5b93969395505050506040820135916060013590565b600060208284031215610b8a57600080fd5b5035919050565b60008351610ba3818460208801610c51565b9190910191825250602001919050565b6020808252825182820181905260009190848201906040850190845b81811015610c1257610bff838551805182526020808201516001600160a01b031690830152604090810151910152565b9284019260609290920191600101610bcf565b50909695505050505050565b6020815260008251806020840152610c3d816040850160208701610c51565b601f01601f19169190910160400192915050565b60005b83811015610c6c578181015183820152602001610c54565b83811115610c7b576000848401525b50505050565b600181811c90821680610c9557607f821691505b60208210811415610cb657634e487b7160e01b600052602260045260246000fd5b50919050565b634e487b7160e01b600052603260045260246000fd5b634e487b7160e01b600052604160045260246000fdfea2646970667358221220f91fce515720a960ed36d97581945352888f16c7d42cf8f8ded3356059462ad464736f6c63430008070033","linkReferences":{},"deployedLinkReferences":{}}')},137:function(e,t,n){},138:function(e,t,n){},145:function(e,t,n){},167:function(e,t){},175:function(e,t){},178:function(e,t,n){},180:function(e,t,n){},181:function(e,t,n){},182:function(e,t,n){"use strict";n.r(t);var a=n(1),c=n.n(a),b=n(44),r=n.n(b),i=n(235),f=(n(137),n(138),n(236)),s=n(5),o=function(e){return Object(s.jsx)("header",{children:Object(s.jsx)(f.a,{variant:"h6",underline:"none",color:"#fff",children:"Snaque"})})},d=n(38),u=n(3),l=n.n(u),p=n(22),m=n(18),h=(n(145),n(226)),y=n(246),j=n(237),x=n(229),g=n(230),k=n(223),v=n(238),w=n(63),O=n.n(w),T=n(39),C=n(111);n(163).config();var S=new T.a.providers.AlchemyProvider("ropsten","sq_HOM3SOOHUZ7HHw8DjuGuVSNCm0TlN"),E=C.abi,M=new T.a.Contract("0x2b77F1d6e1CD553ccCC44871295E0eAD883CF2EE",E,S),F=function(){var e=Object(p.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,M.name();case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),W=function(){var e=Object(p.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,M.ticketPrice();case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),L=function(){var e=Object(p.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,M.isClosed();case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),N=function(){var e=Object(p.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=M.getWinningTicket(),e.abrupt("return",t);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),P=function(){var e=Object(p.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=M.getTickets(),e.abrupt("return",t);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),_=function(){var e=Object(p.a)(l.a.mark((function e(){var t,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.ethereum){e.next=14;break}return e.prev=1,t=new T.a.providers.Web3Provider(window.ethereum),e.next=5,t.send("eth_requestAccounts",[]);case 5:return n=e.sent,e.abrupt("return",{address:n[0],status:"wallet connected"});case 9:e.prev=9,e.t0=e.catch(1),console.log(e.t0);case 12:e.next=15;break;case 14:console.log("You must install Metamask.");case 15:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(){return e.apply(this,arguments)}}(),z=function(){var e=Object(p.a)(l.a.mark((function e(){var t,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.ethereum){e.next=15;break}return e.prev=1,t=new T.a.providers.Web3Provider(window.ethereum),e.next=5,t.send("eth_accounts",[]);case 5:if(!((n=e.sent).length>0)){e.next=8;break}return e.abrupt("return",{address:n[0],status:"wallet connected"});case 8:e.next=13;break;case 10:return e.prev=10,e.t0=e.catch(1),e.abrupt("return",console.log(e.t0));case 13:e.next=16;break;case 15:console.log("You must install Metamask.");case 16:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(){return e.apply(this,arguments)}}(),R=function(){var e=Object(p.a)(l.a.mark((function e(t){var n,a,c,b,r,i,f,s;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,z();case 2:if(!(n=e.sent)){e.next=23;break}return e.prev=4,a=new T.a.providers.Web3Provider(window.ethereum),c=a.getSigner(),b=M.connect(c),e.next=10,M.ticketPrice();case 10:return r=e.sent,e.next=13,b.addTicket(t,{value:r,gasLimit:5e5});case 13:return i=e.sent,e.abrupt("return",{address:n.address,tx:i,status:"success"});case 17:e.prev=17,e.t0=e.catch(4),console.log(e.t0);case 20:try{f=O.a.post("".concat("http://localhost:5000/api","/user/create"),{address:n.address}),console.log("response.data: ".concat(f.data))}catch(o){console.log(o)}e.next=36;break;case 23:return e.prev=23,e.next=26,_();case 26:return e.next=28,R(t);case 28:if(!(s=e.sent)){e.next=31;break}return e.abrupt("return",s);case 31:e.next=36;break;case 33:e.prev=33,e.t1=e.catch(23),console.log("Failed to connect to Ethereum wallet.");case 36:case"end":return e.stop()}}),e,null,[[4,17],[23,33]])})));return function(t){return e.apply(this,arguments)}}(),A=function(){var e=Object(p.a)(l.a.mark((function e(){var t,n,a,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,z();case 2:if(!(t=e.sent)){e.next=18;break}return n=t.address.toString().toLowerCase(),e.next=7,M.getTickets();case 7:a=e.sent,c=0;case 9:if(!(c<a.length)){e.next=16;break}if(a[c].holder.toString().toLowerCase()!==n){e.next=13;break}return e.abrupt("return",{address:t.address,status:"holds ticket"});case 13:c++,e.next=9;break;case 16:e.next=19;break;case 18:console.log("Failed to connect to Ethereum wallet.");case 19:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),D=n(117),I=Object(D.a)({palette:{primary:{light:"#6d6d6d",main:"#424242",dark:"#1b1b1b",contrastText:"#fff"},secondary:{light:"#68ff50",main:"#00E100",dark:"#00ad00",contrastText:"#000"}},typography:{h1:{fontFamily:"mono45-headline, monospace",fontWeight:700,fontStyle:"normal"},h2:{fontFamily:"mono45-headline, monospace",fontWeight:700,fontStyle:"normal"},h3:{fontFamily:"mono45-headline, monospace",fontWeight:700,fontStyle:"normal"},h4:{fontFamily:"mono45-headline, monospace",fontWeight:700,fontStyle:"normal"},h5:{fontFamily:"mono45-headline, monospace",fontWeight:700,fontStyle:"normal"},h6:{fontFamily:"mono45-headline, monospace",fontWeight:700,fontStyle:"normal"},button:{fontFamily:"mono45-headline, monospace",fontWeight:700,fontStyle:"normal",fontSize:"1.575rem"}}}),B=(n(178),n(231)),H=n(240),U=n(241),Y=n(242),q=n(228),J=n(245),G="http://localhost:5000/api",K=function(e){var t=Object(a.useState)({address:"",email:"",phone:"",shippingAddress:""}),n=Object(m.a)(t,2),c=n[0],b=n[1],r=Object(a.useState)(c),i=Object(m.a)(r,2),f=i[0],o=i[1],u=Object(a.useState)(!1),h=Object(m.a)(u,2),y=h[0],j=h[1],x=Object(a.useState)([]),g=Object(m.a)(x,2),k=g[0],w=g[1],T=function(){j(!1)};return Object(a.useEffect)((function(){function e(){return(e=Object(p.a)(l.a.mark((function e(){var t,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,z();case 2:if(!(t=e.sent)){e.next=10;break}return e.next=6,O.a.get("".concat(G,"/user/").concat(t.address));case 6:(n=e.sent).data&&(b(n.data),o(n.data)),e.next=11;break;case 10:console.log("Failed to connect to Ethereum wallet.");case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function t(){return(t=Object(p.a)(l.a.mark((function e(){var t,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,z();case 2:if(!(t=e.sent)){e.next=12;break}return n=[],e.next=7,P();case 7:e.sent.forEach((function(e){t.address.toString().toLowerCase()===e.holder.toString().toLowerCase()&&n.push(e)})),w(n),e.next=13;break;case 12:console.log("Failed to connect to Ethereum wallet.");case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}(),function(){t.apply(this,arguments)}()}),[]),Object(a.useEffect)((function(){c.address&&(c.phone||c.email||j(!0))}),[c]),Object(s.jsxs)("div",{children:[Object(s.jsx)(v.a,{sx:{mt:4},className:"view-ticket",color:"primary",variant:"contained",disableElevation:!0,onClick:function(){j(!0)},children:"VIEW TICKETS"}),c.email?Object(s.jsxs)(B.a,{maxWidth:"lg",open:y,onClose:T,children:[Object(s.jsx)(H.a,{children:"Your tickets"}),Object(s.jsx)(U.a,{children:k.map((function(e,t){return Object(s.jsxs)("p",{children:["Ticket ",t+1," ID: ",e.id]},t)}))}),Object(s.jsx)(H.a,{children:"Winning ticket"}),e.winningTicket&&e.isClosed?Object(s.jsx)(U.a,{children:e.winningTicket.id}):Object(s.jsx)(U.a,{children:"No winning ticket announced."})]}):null,c.email?null:Object(s.jsxs)(B.a,{open:y,onClose:T,children:[Object(s.jsx)(H.a,{children:"Get an update if you win!"}),Object(s.jsxs)(U.a,{children:[Object(s.jsx)(Y.a,{children:"We will send updates on changes to the raffle status. The winner will receive a link to input shipping information to receive the prize."}),Object(s.jsx)(q.a,{autoFocus:!0,margin:"dense",id:"name",label:"Email Address",type:"email",fullWidth:!0,variant:"standard",onChange:function(e){o(Object(d.a)(Object(d.a)({},f),{},{email:e.target.value}))}})]}),Object(s.jsx)(J.a,{children:Object(s.jsx)(v.a,{onClick:function(){function e(){return(e=Object(p.a)(l.a.mark((function e(){var t,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,z();case 2:if(!(t=e.sent)){e.next=16;break}return e.prev=4,e.next=7,O.a.put("".concat(G,"/user/").concat(t.address,"/update"),f);case 7:n=e.sent,b(n.data),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(4),console.log(e.t0);case 14:e.next=17;break;case 16:console.log("Failed to connect to Ethereum wallet.");case 17:case"end":return e.stop()}}),e,null,[[4,11]])})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()},children:"Submit"})})]})]})},V=n.p+"static/media/shoe.13974086.png",Z=n.p+"static/media/sneaker-loading.511aef2c.gif",Q=function(e){var t=Object(a.useState)(""),n=Object(m.a)(t,2),c=n[0],b=n[1],r=Object(a.useState)(!1),i=Object(m.a)(r,2),f=i[0],o=i[1],u=Object(a.useState)({name:"",ticketPrice:0,isClosed:!1,winningTicket:{}}),w=Object(m.a)(u,2),O=w[0],C=w[1],S=Object(a.useState)(""),E=Object(m.a)(S,2),P=E[0],D=E[1],B=Object(a.useState)(!1),H=Object(m.a)(B,2),U=H[0],Y=H[1],q=Object(a.useState)(""),J=Object(m.a)(q,2),G=J[0],Q=J[1],X=[4,5,6,7,8,9,10,11,12,13,14,15].map((function(e){return Object(s.jsxs)(h.a,{value:e,children:["US M ",e]},e)})),$=function(){var e=Object(p.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:return Q("Waiting..."),Y(!1),e.next=6,R(t);case 6:e.sent?Q("Buying ticket..."):(Y(!0),console.log("Failed to purchase ticket."));case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){function e(){return(e=Object(p.a)(l.a.mark((function e(){var t,n,a,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F();case 2:return t=e.sent,e.next=5,W();case 5:return n=e.sent,e.next=8,L();case 8:return a=e.sent,e.next=11,N();case 11:c=e.sent,C(Object(d.a)(Object(d.a)({},O),{},{name:t,ticketPrice:T.a.utils.formatEther(n),isClosed:a,winningTicket:c}));case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function t(){return(t=Object(p.a)(l.a.mark((function e(){var t,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,z();case 2:(t=e.sent)&&(n=t.address,b(n));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function n(){return(n=Object(p.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A();case 2:t=e.sent,o(t);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}(),function(){t.apply(this,arguments)}(),function(){n.apply(this,arguments)}(),window.ethereum?window.ethereum.on("accountsChanged",(function(e){e.length>0?b(e[0].toString().toLowerCase()):(b(""),console.log('Connect to Metamask using the "Connect to Wallet" button.'))})):console.log("You must install Metamask."),M.on("NewTicket",function(){var e=Object(p.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=o,e.next=3,A();case 3:e.t1=e.sent,(0,e.t0)(e.t1),Y(!0),console.log("NewTicket event fired.");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),M.on("Closed",function(){var e=Object(p.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("Closed event fired with winning ticket ID: ".concat(t.id)),C(Object(d.a)(Object(d.a)({},O),{},{isClosed:!0,winningTicket:t}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}),[]),Object(a.useEffect)((function(){function e(){return(e=Object(p.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A();case 2:t=e.sent,o(t);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[c]),Object(a.useEffect)((function(){function e(){return(e=Object(p.a)(l.a.mark((function e(){var t,n,a,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F();case 2:return t=e.sent,e.next=5,W();case 5:return n=e.sent,e.next=8,L();case 8:return a=e.sent,e.next=11,N();case 11:c=e.sent,O.name===t&&O.ticketPrice===T.a.utils.formatEther(n)&&O.isClosed===a&&O.winningTicket.id===c.id?Y(!0):C(Object(d.a)(Object(d.a)({},O),{},{name:t,ticketPrice:T.a.utils.formatEther(n),isClosed:a,winningTicket:c}));case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[O]),Object(s.jsx)("div",{className:"product-details",children:U?Object(s.jsxs)(y.a,{children:[Object(s.jsx)(j.a,{variant:"h4",m:I.spacing(0,0,4,0),children:O.name}),Object(s.jsx)("img",{id:"shoe-img",src:V,alt:"Shoe"}),Object(s.jsx)("hr",{}),Object(s.jsxs)(j.a,{m:I.spacing(0,0,4,0),children:["Ticket Price:    ",Object(s.jsxs)("b",{children:[O.ticketPrice," ETH"]})]}),Object(s.jsxs)(j.a,{m:I.spacing(4,0,4,0),children:[Object(s.jsx)("b",{children:"Description."})," The Nike Dunk Low Championship Red features a University Red leather upper with white leather overlays and Swooshes. A matching sole and woven tongue label adds the finishing touches to this retro design."]}),Object(s.jsxs)(x.a,{fullWidth:!0,children:[!O.isClosed&&Object(s.jsx)(g.a,{id:"size-select-label",children:"Size"}),!O.isClosed&&Object(s.jsx)(k.a,{labelId:"size-select-label",id:"size-select",value:P,label:"Size",onChange:function(e){D(e.target.value)},children:X}),Object(s.jsx)("hr",{}),!O.isClosed&&Object(s.jsx)(v.a,{color:"secondary",variant:"contained",disableElevation:!0,onClick:function(){return $(P)},children:"BUY RAFFLE TICKET"}),O.isClosed&&Object(s.jsx)(v.a,{color:"primary",variant:"contained",disableElevation:!0,onClick:function(){return console.log("raffle closed.")},children:"RAFFLE CLOSED"})]}),f?Object(s.jsx)(K,{hasTicket:f,winningTicket:O.winningTicket,isClosed:O.isClosed}):null,c?null:Object(s.jsx)(v.a,{className:"connect-button",sx:{mt:4},color:"warning",variant:"contained",disableElevation:!0,onClick:_,children:"CONNECT TO WALLET"})]}):Object(s.jsxs)("div",{children:[Object(s.jsx)("img",{id:"loading-gif",src:Z,alt:"Sneaker loading gif"}),Object(s.jsx)(j.a,{className:"loading-message",variant:"h4",children:G})]})})},X=(n(180),function(){return Object(s.jsx)("footer",{children:Object(s.jsx)("nav",{className:"pages-links",children:Object(s.jsx)(f.a,{variant:"h6",underline:"none",color:"primary",children:"Help"})})})}),$=n(234);var ee=function(){return Object(s.jsxs)("div",{className:"App",children:[Object(s.jsx)(o,{}),Object(s.jsx)(y.a,{className:"main",maxWidth:"lg",children:Object(s.jsx)($.a,{container:!0,justifyContent:"center",alignItems:"center",spacing:2,children:Object(s.jsx)($.a,{item:!0,lg:6,children:Object(s.jsx)(Q,{})})})}),Object(s.jsx)(X,{})]})},te=(n(181),function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,247)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,b=t.getLCP,r=t.getTTFB;n(e),a(e),c(e),b(e),r(e)}))});r.a.render(Object(s.jsx)(c.a.StrictMode,{children:Object(s.jsx)(i.a,{theme:I,children:Object(s.jsx)(ee,{})})}),document.getElementById("root")),te()}},[[182,1,2]]]);
//# sourceMappingURL=main.8d1fc297.chunk.js.map